<?xml version="1.0"?>
<todo version="0.1.20">
    <note priority="veryhigh" time="1316557487" done="1317224604">
        Check functionality of Dose.TIME_NIGHT spanning two days
        <comment>
            Fixed.
        </comment>
        <note priority="veryhigh" time="1316557578" done="0">
            Case 1: active dose time should be Drug.TIME_NIGHT, restart the thread AFTER midnight
        </note>
        <note priority="veryhigh" time="1316557629" done="0">
            Case 2: let dose time end, start before midnight, set end to after midnight, see what happens
        </note>
    </note>
    <note priority="veryhigh" time="1316988193" done="1317228615">
        Fix getActiveDoseTime
        <comment>
            Fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1317224596" done="1318343545">
        Add dose information to Intake objects
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1317228605" done="1317304971">
        Resolve the ConcurrentModificationException when deleting a drug
        <comment>
            Hopefully...
        </comment>
    </note>
    <note priority="veryhigh" time="1318718171" done="1318784107">
        Set time to 00:28 with Drug.TIME_NIGHT spanning to 00:30 the next day and observe notification fuckup - FIX!
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1321224140" done="1324306295">
        Create FractionInputDialog and make IntakeDialog use it
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1321224167" done="1322946883">
        Consider changeing IntakeActivity to a Dialog, due to styling difficulties
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1322946871" done="1323731193">
        display instructions if main ListView is empty
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1323299993" done="1324429131">
        MAKE IntakeDialog A FUCKING ACTIVITY USING THE TIP FROM http://stackoverflow.com/questions/3045406/tunning-up-activity-with-dialog-theme !
        <comment>
            fixed using different method
        </comment>
    </note>
    <note priority="veryhigh" time="1324431449" done="1326404985">
        Reimplement snoozing
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1324493850" done="1326234011">
        Refactoring: Calendar -&gt; Date
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1326751556" done="1327071960">
        Fix LoaderActivity
        <comment>
            hopefully fixed it
        </comment>
    </note>
    <note priority="veryhigh" time="1327420017" done="1327939245">
        Investigate date not changing but drug list sliding in DrugListActivity
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1327420049" done="1328201745">
        Fix notification defaults
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1332514149" done="1332752895">
        Fix hasMissingIntakesBeforeDate() - see FIXME in source
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1332514208" done="1332777130">
        Clicking the exclamation mark -&gt; either A) zoom to date of last expected intake or B) open dialog
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1332514268" done="1332882204">
        Use OTPM framework for DrugEditActivity!
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1332514693" done="1354818396">
        consider name change - rxdroid is already taken!
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1332777147" done="1354818397">
        Display GPL on first use
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1332882462" done="1335391433">
        Fix DrugEditActivity
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1332930427" done="1335391436">
        Allow disabling of the fraction mode button in FractionInput
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1335393449" done="1335481316">
        Show active date by default, not current date.
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1336515925" done="1336602092">
        Fix DrugListActivity.hasMissingIntakesBefore(...)
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1340009802" done="1342625177">
        Implement 21 on, 7 off schedule (e.g. oral contraceptives w/o 7 placebo tablets)
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1342732195" done="1348963967">
        Fix TimePeriodPreference! Rename: constraints -&gt; limits?
        <comment>
            kinda fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1343325046" done="1343649703">
        Remove list element backgrounds, use solid color, but custom dividers!
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1344884389" done="1344937776">
        Fix HOOK_DELETE
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1346277627" done="1348963975">
        Fix bug: when TIME_NIGHT not wrapping and time between end of TIME_NIGHT and midnight -&gt; no notification!
        <comment>
            fixed
        </comment>
    </note>
    <note priority="veryhigh" time="1349641509" done="1350856502">
        Use Activity.showDialog() or newer DialogFragment approach
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1349737922" done="1350583464">
        Always show a drug if it's active and has a recorded intake event
        <comment>
            done
        </comment>
    </note>
    <note priority="veryhigh" time="1356002141" done="1362065282">
        For dates in the future, show the expected supply at that time
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1316529642" done="1318944915">
        Implement DoseView long click behaviour: remove intake, mark as taken, change dose, edit drug
        <comment>
            fixed, removed some options
        </comment>
    </note>
    <note priority="high" time="1317213065" done="1321196875">
        add fake-intake class for ignoring drug doses
        <comment>
            abandoned, using Intakes with dose.equals(Fraction.ZERO) now
        </comment>
    </note>
    <note priority="high" time="1317581013" done="1318779479">
        Actually work with a drug's refill size
        <comment>
            fixed
        </comment>
    </note>
    <note priority="high" time="1320707720" done="1320962675">
        Rename: frequency -&gt; repeat (in app &amp; code)
        <comment>
            fixed
        </comment>
    </note>
    <note priority="high" time="1320707778" done="1332514213">
        For drug specific notifications, display an icon (either change the drug icon's color or use something like android.R.drawable.ic_dialog_alert). Clicking the icon opens a Dialog.
        <comment>
            superseded by better idea
        </comment>
    </note>
    <note priority="high" time="1320707869" done="1321196908">
        add special icon for non-standard dose intake (maybe yellow tick?), e.g. scheduled dose was 2, but the user took 1 or 2 1/2
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1320708051" done="1323776693">
        add long-click option for non-standard dose intake
        <comment>
            not applicable anymore
        </comment>
    </note>
    <note priority="high" time="1322944697" done="1323892421">
        Allow integer input mode for FractionINput
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1323892487" done="1324306318">
        Maybe put fraction input mode toggler into FractionInput (maybe displayed by default, allowing a switch from MODE_INTEGER to MODE_FRACTION)
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1324602189" done="1354818420">
        Allow the user to customize the display order in DrugListActivity
        <comment>
            fixed
        </comment>
    </note>
    <note priority="high" time="1326234311" done="1326463373">
        Move entry-type specific operations from Database to Drug/Intake
        <comment>
            used different approach
        </comment>
    </note>
    <note priority="high" time="1326411820" done="1327420025">
        Use a ViewPager for DrugListActivity
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1326454840" done="1326536740">
        Add 'on demand' repeat mode
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1332514498" done="1340009708">
        Investigate spurious wierdness in DrugListActivity (e.g. marking a drug as not taken leaves the green tick if drug was not scheduled and would be hidden by reloading that date)
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1332882595" done="1335481411">
        Rename 'forgotten' -&gt; 'missing'
        <comment>
            fixed
        </comment>
    </note>
    <note priority="high" time="1332884134" done="1335481325">
        Allow OTPM framework to use preferences from XML files
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1335393421" done="1350583479">
        Remove PopupWindow in IntakeDialog. Move message to area of FractionInput?
        <comment>
            fixed
        </comment>
    </note>
    <note priority="high" time="1335393523" done="1349281575">
        Add some Dialog titles in DrugEditActivity
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1335393677" done="1335516379">
        To enable extras on preferences on pre-HC devices, consider creating a global extra registry (WeakHashMap!)
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1336603048" done="1346270847">
        Investigate RAM usage of ~10MB (DrugListActivity?)
        <comment>
            not relevant since removal of NotifcationService
        </comment>
    </note>
    <note priority="high" time="1342730192" done="1354818772">
        Move tests to separate test project
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1342732778" done="1346276508">
        Move functions accessing other Entry types to Entries.java
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1343595716" done="1354818422">
        Don't play notification sound if UI is visible
        <comment>
            fixed
        </comment>
    </note>
    <note priority="high" time="1348963921" done="1350583487">
        Add option to change notification sound
        <comment>
            fixed
        </comment>
    </note>
    <note priority="high" time="1348964002" done="1349281586">
        Add immutable Fraction class
        <comment>
            done
        </comment>
    </note>
    <note priority="high" time="1362065317" done="1369925921">
        Make DrugSupplyMonitor independent of DrugOverviewAdapter
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1316529552" done="1318956457">
        Speed up DrugAdapter#getView()
        <comment>
            not that big of a problem anymore, due to caching
        </comment>
    </note>
    <note priority="medium" time="1316529704" done="1328202331">
        Ask the user for a dose when clicking a dose that already has an intake.
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1316614618" done="1326411836">
        Fix the GestureOverlayView hack
        <comment>
            will use ViewPager
        </comment>
    </note>
    <note priority="medium" time="1317314869" done="1318711300">
        Fix low supply messages for drugs with frequency != FREQ_DAILY
        <comment>
            fixed
        </comment>
    </note>
    <note priority="medium" time="1317314886" done="1318589057">
        In drug frequencies, hange "every other day" to "every N days"
        <comment>
            fixed
        </comment>
    </note>
    <note priority="medium" time="1317314965" done="1318589059">
        Allow picking certain week days for drug frequencies, e.g. Mon, Fri, Sat
        <comment>
            fixed
        </comment>
    </note>
    <note priority="medium" time="1317514845" done="1323776725">
        Consider removing the option to click on "0"-doses, maybe adding a dedicated button instead, allowing unscheduled intakes.
        <comment>
            not applicable anymore
        </comment>
    </note>
    <note priority="medium" time="1317581035" done="1323731237">
        Remove the spacer between the TextView and the EditTexts in FractionInputDialog
        <comment>
            deprecated
        </comment>
    </note>
    <note priority="medium" time="1317581250" done="1323731253">
        Consider moving the whole requestIntake stuff from DrugListActivity to a separate activity with a dialog theme
        <comment>
            deprecated
        </comment>
    </note>
    <note priority="medium" time="1318543262" done="1318711302">
        Put Database.Entry, .Drug and .Intake into separate files, in a new at.caspase.rxdroid.db package. In that package, also add subpackages, like .v43 for class definitions from version 43
        <comment>
            fixed
        </comment>
    </note>
    <note priority="medium" time="1318716079" done="1324430672">
        Add the current "low supply threshold" setting's value to the summary
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1318943892" done="1354818757">
        Consider modelling DrugNamePreference's layout after the layout found in the old DrugEditActivty layout
        <comment>
            n/a
        </comment>
    </note>
    <note priority="medium" time="1318945060" done="1319583835">
        Implement three snoozing options: don't snooze, snooze on click, autosnooze
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1320707746" done="1354818758">
        only update notifications when really neccessary
        <comment>
            n/a
        </comment>
    </note>
    <note priority="medium" time="1320778180" done="1369925960">
        Better tablet support; use Fragments!
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1320793646" done="1324429884">
        Make DatabaseHelper display dialogs for errors/upgrade/downgrade
        <comment>
            implemented in LoaderActivity
        </comment>
    </note>
    <note priority="medium" time="1320793813" done="1332514577">
        distribute DoseViews equidistantly across the screen
        <comment>
            won't implement / related to tablet support
        </comment>
    </note>
    <note priority="medium" time="1321197019" done="1324381785">
        make first Activity to be loaded a special Activity, in which the DB is intialized and errors regarding the DB can be displayed
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1324297188" done="1324382348">
        Make DoseView immediately display the yellow tick when igoring a dose
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1324306309" done="1324430700">
        Unify IntakeDialog and FractionInputDialog?
        <comment>
            obsolete
        </comment>
    </note>
    <note priority="medium" time="1324308984" done="1324308994">
        32
    </note>
    <note priority="medium" time="1324592387" done="1332514532">
        Reimplement the mess that is DrugEditActivity (should it really be a PreferenceActivity?)
        <comment>
            will be fixed by OTPM
        </comment>
    </note>
    <note priority="medium" time="1326455007" done="1349281673">
        Allow intakes to be updated!
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1328223989" done="1342731715">
        Allow scrambling of drug names
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1335393488" done="1340009740">
        If date is current date, clicking it should open the DatePicker!
        <comment>
            won't implement
        </comment>
    </note>
    <note priority="medium" time="1340009847" done="1342731833">
        Rename: Intake -&gt; Dose
        <comment>
            Dictionary says otherwise...
        </comment>
    </note>
    <note priority="medium" time="1342731693" done="1344937833">
        Tapping a scrambled drug name should reveal the true name for a short time. Taping the unscrambled name launches DrugEditActivity. Long clicking the scrambled name should open DrugEditActivity. Maybe extend a TextView?
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1350606880" done="1354818850">
        Send broadcasts for db upgrade/cleaning/loading for better progress indicator?
        <comment>
            done
        </comment>
    </note>
    <note priority="medium" time="1351004787" done="1369925908">
        Show notifications like low supply / missed doses when repeat != daily in notification panel at bottom? For &gt;= 11, maybe item in ActionBar?
        <comment>
            dismissed
        </comment>
    </note>
    <note priority="low" time="1316529505" done="1316548042">
        Ask the user for confirmation before resetting all preferences to their defaults
    </note>
    <note priority="low" time="1316529611" done="1318444927">
        Don't use fixed yyyy-mm-dd date format
        <comment>
            fixed
        </comment>
    </note>
    <note priority="low" time="1316547776" done="1332514553">
        Don't show the FractionInputDialog displayed when clicking on an empty dose with an intial value of zero, but use the lowest dose currently in the input schedule.
        <comment>
            won't implement
        </comment>
    </note>
    <note priority="low" time="1316614544" done="1316988254">
        Make Database.update(), .create() and .delete() functions with DAO argument private
    </note>
    <note priority="low" time="1316614792" done="1324430718">
        Allow moving the app to SD, but display a warning as the BOOT_COMPLETED intent will not be delivered
        <comment>
            duplicate entry
        </comment>
    </note>
    <note priority="low" time="1317226470" done="1342731736">
        Externalize all strings
        <comment>
            done
        </comment>
    </note>
    <note priority="low" time="1317226740" done="1354818830">
        Allow moving the app to SD, but display a big fat warning (OK button should only be active after 5 seconds). Also the dialog should be displayed every time until the user checks a checkbox in the dialog.
        <comment>
            wont implement
        </comment>
    </note>
    <note priority="low" time="1317306209" done="1318783849">
        Implement the "show doseless/inactive" settings
        <comment>
            fixed
        </comment>
    </note>
    <note priority="low" time="1326536117" done="1354818817">
        Allow per-weekday doseTime definitions
        <comment>
            wont implement
        </comment>
    </note>
    <note priority="low" time="1326753387" done="1354818863">
        Move icon selection in DrugEditActivity to DrugNamePreference itself?
        <comment>
            wont implement
        </comment>
    </note>
    <note priority="verylow" time="1316529783" done="1354818803">
        Add icons for all drug forms.
        <comment>
            done
        </comment>
    </note>
    <note priority="verylow" time="1316548531" done="1328202433">
        Draw smaller doseTime icons for displaying as Dialog icons
        <comment>
            fixed long ago
        </comment>
    </note>
    <note priority="verylow" time="1316548559" done="1345059406">
        Handle landscape view
        <comment>
            done
        </comment>
    </note>
    <note priority="verylow" time="1316548662" done="1354818804">
        Consider keeping intake entries only for a certain number of days, before removing them from the DB. The user should be able to choose this history size, within reasonable bounds.
        <comment>
            done
        </comment>
    </note>
    <note priority="verylow" time="1316614566" done="1350583500">
        Make it possible to navigate DrugListActivity using the trackball
        <comment>
            abandoned
        </comment>
    </note>
    <note priority="veryhigh" time="1354818925">
        Highlight current dose time in DrugListActivity if applicable
    </note>
    <note priority="veryhigh" time="1362065331">
        Use antonyt's InfiniteViewPager
    </note>
    <note priority="veryhigh" time="1369926007">
        New database table: History (replaces DoseEvent)
    </note>
    <note priority="high" time="1324308938">
        Support Marcoumar-like schedules (distinct doses each weekday) - maybe add extra table for such entries?
    </note>
    <note priority="high" time="1335391425">
        Support per doseTime listing in DrugListActivity
    </note>
    <note priority="high" time="1350763239">
        move refill size and cur spply to own category
    </note>
    <note priority="high" time="1350856491">
        Fix end-of-supply date for drugs with 21/7 repeatMode
    </note>
    <note priority="medium" time="1328223980">
        Add PIN protection
    </note>
    <note priority="medium" time="1350583452">
        Use extended notifications for &gt;= JB + add preference for disabling
    </note>
    <note priority="medium" time="1350583720">
        Implement multiple stashes using the patient database
    </note>
    <note priority="medium" time="1354818880">
        Make drug icon selector a Spinner with drawables
    </note>
    <note priority="low" time="1317226248">
        For Version, don't get the revision from strings.xml, as this requires faking a change in the file to update the revision tag.
    </note>
    <note priority="low" time="1318540605">
        Somehow, implement an "Every N hours" frequency option
    </note>
    <note priority="low" time="1320793916">
        use or remove the comment field in Drug
    </note>
    <note priority="low" time="1350583779">
        Allow multiple drug entries with the same name, as long as their dose definitions don't intersect. Use a shared supply pool and also share intake entries.
    </note>
    <note priority="verylow" time="1336603009">
        Consolidate Intake entries for most operations
    </note>
    <note priority="verylow" time="1349866067">
        Cache results of findIntakes and countIntakes ?
    </note>
</todo>
